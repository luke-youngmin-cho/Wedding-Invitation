<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script src="js/fit-text.js"></script>
    
    <title>ê¶Œì±„ë¦° â¤ï¸ ì¡°ì˜ë¯¼ ê²°í˜¼í•©ë‹ˆë‹¤</title>
    
    <!-- ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡ -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // ê¸°ì¡´ ì„œë¹„ìŠ¤ ì›Œì»¤ ëª¨ë‘ ì œê±°
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        registration.unregister();
                    }
                });
                
                // ìƒˆ ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡
                navigator.serviceWorker.register('/Wedding-Invitation/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
    
    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Modern Theme CSS (New Structure) -->
    <link rel="stylesheet" href="css/modern/index.css" id="modern-styles">
    
    <!-- Retro Theme CSS (New Structure, Disabled by default) -->
    <link rel="stylesheet" href="css/retro/index.css" id="retro-styles" disabled>
    
    <!-- Legacy CSS Files (for backward compatibility) -->
    <link rel="stylesheet" href="modern-theme.css" id="modern-legacy-styles">
    <link rel="stylesheet" href="retro-theme.css" id="retro-legacy-styles" disabled>
    
    <!-- Responsive Override Styles -->
    <link rel="stylesheet" href="responsive-override.css">
    <link rel="stylesheet" href="css/mobile-width-constraint.css">
    <link rel="stylesheet" href="css/calendar-grid-fix.css">
    <link rel="stylesheet" href="css/account-section-fix.css">
    <link rel="stylesheet" href="css/rsvp-form-improvement.css">
    <link rel="stylesheet" href="css/boundary-fix.css">
    <link rel="stylesheet" href="css/retro-share-fix.css">
    <link rel="stylesheet" href="css/retro-titles-fix.css">
    <link rel="stylesheet" href="css/game-world-ui-fix.css">
    <link rel="stylesheet" href="css/parents-contact-horizontal.css">
    <link rel="stylesheet" href="css/parents-group-border.css">
    <link rel="stylesheet" href="css/pixel-heart-fix.css">
    <link rel="stylesheet" href="css/game-button-position-fix.css">
    
    <!-- Press Start 2P Font for transition panel -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <!-- Load Configuration -->
    <script src="js/config.js"></script>
    <!-- Load Mini Game -->
    <!-- Load Mini Game -->
    <script src="js/minigame.js"></script>
    <!-- Load Account Copy Function -->
    <script src="js/account-copy.js"></script>
</head>
<body>
    <!-- Game Mode Button -->
    <button class="game-mode-btn" id="portalTrigger">
        ğŸ® ê²Œì„í•˜ëŸ¬ ê°€ê¸°
    </button>
    
    <!-- Exit Button (ê²Œì„ì—ì„œ ëŒì•„ì˜¤ê¸°) -->
    <div class="exit-btn" id="returnPortal" style="display: none;">
        EXIT
    </div>

    <!-- Transition Warning Panel -->
    <div class="transition-panel" id="transitionPanel" style="display: none;">
        <div class="warning-content">
            <div class="warning-icon">âš ï¸</div>
            <h2 class="warning-title">ê²½ê³ !</h2>
            <p class="warning-message">ê²Œì„ ì°¨ì›ìœ¼ë¡œ ë¹¨ë ¤ë“¤ì–´ê°‘ë‹ˆë‹¤</p>
            <div class="portal-effect">
                <div class="portal-ring"></div>
                <div class="portal-ring"></div>
                <div class="portal-ring"></div>
            </div>
            <p class="click-anywhere">ì•„ë¬´ ê³³ì´ë‚˜ í„°ì¹˜í•˜ì„¸ìš”</p>
        </div>
    </div>
    <!-- í™”ë ¤í•œ ë°°ê²½ íš¨ê³¼ -->
    <div class="fireworks" id="fireworks"></div>
    <div class="floating-hearts" id="floatingHearts"></div>

    <div class="container">
        <!-- ëª¨ë˜ í…Œë§ˆ íƒ€ì´í‹€ (ê¸°ë³¸) -->
        <section class="title-section modern-section">            
            <h1 class="wedding-title">
                <span class="bride-name">ê¶Œì±„ë¦°</span> 
                <span class="heart-symbol">â™¥</span> 
                <span class="groom-name">ì¡°ì˜ë¯¼</span>
            </h1>
            <p class="subtitle">ê²°í˜¼ì‹ì— ì´ˆëŒ€í•©ë‹ˆë‹¤</p>
            <p class="wedding-date-preview">
                2025ë…„ 9ì›” 27ì¼ í† ìš”ì¼ ì˜¤ì „ 11ì‹œ
            </p>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ê²Œì„ íƒ€ì´í‹€ (ìˆ¨ê¹€) -->
        <section class="title-section retro-section" style="display: none;">            
            <h1 class="celebrate-text">
                <span class="bride-name">ê¶Œì±„ë¦°</span> 
                <span class="pixel-heart"></span> 
                <span class="groom-name">ì¡°ì˜ë¯¼</span>
            </h1>
            <p class="subtitle">â™ª WEDDING INVITATION â™ª</p>
            <p style="font-size: 14px; margin-top: 20px; animation: glow 2s infinite;">
                <span class="pixel-icon pixel-icon-calendar"></span> 2025ë…„ 9ì›” 27ì¼ í† ìš”ì¼
            </p>
        </section>

        <!-- ë©”ì¸ ì‚¬ì§„ -->
        <section class="main-photo special-border">
            <img src="./assets/main.jpg" alt="ì‹ ë‘ ì‹ ë¶€ ì‚¬ì§„" id="mainPhoto" onerror="console.error('Failed to load main photo'); this.src='./assets/main.jpg';">
        </section>

        <!-- ëª¨ë˜ ê²°í˜¼ì‹ ì •ë³´ -->
        <section class="wedding-info modern-section">
            <h3 class="info-title">ì˜ˆì‹ ì•ˆë‚´</h3>
            <div class="date">2025ë…„ 9ì›” 27ì¼ í† ìš”ì¼</div>
            <div class="time">ì˜¤ì „ 11ì‹œ</div>
            <div class="venue">
                ì¼„ì‹±í„´í˜¸í…” ì—¬ì˜ë„<br>
                15ì¸µ ê·¸ëœë“œë³¼ë£¸
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ê²°í˜¼ì‹ ì •ë³´ -->
        <section class="wedding-info special-border retro-section" style="display: none;">
            <div style="text-align: center; margin-bottom: 20px;">
                <span class="pixel-icon pixel-icon-gift"></span>
                <span style="font-size: 16px;"> STAGE INFO </span>
                <span class="pixel-icon pixel-icon-gift"></span>
            </div>
            <div class="date">2025ë…„ 9ì›” 27ì¼ í† ìš”ì¼</div>
            <div class="time">ì˜¤í›„ 11ì‹œ 00ë¶„</div>
            <div class="venue">
                ì¼„ì‹±í„´í˜¸í…” ì—¬ì˜ë„<br>
                15ì¸µ ê·¸ëœë“œë³¼ë£¸
            </div>
        </section>

        <!-- ëª¨ë˜ ì´ˆëŒ€ ë©”ì‹œì§€ -->
        <section class="invitation-msg modern-section">
            <div style="text-align: center; font-size: 16px; margin-bottom: 20px;">
                <div class="pixel-icon" style="font-size: 40px; margin-bottom: 20px; display: block; text-align: center;">ğŸ’Œ</div>
            </div>
            <div style="font-size: 15px; line-height: 2.2; padding: 0 20px; text-align: center;">
                ì„œë¡œì—ê²Œ ê¸°ëŒˆ ìˆ˜ ìˆëŠ” ë‚˜ë¬´ê°€ ë˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.<br> 
                ë°”ëŒì´ ë¶ˆì–´ë„, ë¹„ê°€ ë‚´ë ¤ë„ ê·¸ëŠ˜ì´ ë˜ì–´ ì£¼ê³ ,<br>
                ë¿Œë¦¬ê°€ ë˜ì–´ ì¤„ ê·¸ ì‚¬ë‘ìœ¼ë¡œ í‰ìƒì„ í•¨ê»˜ ê±¸ì–´ê°€ë ¤ í•©ë‹ˆë‹¤.<br>
                ê·¸ ì²« ê±¸ìŒì„ ì¶•ë³µí•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 0 20px;">
                <div style="display: inline-block; margin: 20px 10px;">
                    <div style="font-weight: 700; margin-bottom: 10px;">ì‹ ë‘ì¸¡</div>
                    <div>ì¡°êµ­ì œ Â· ê¹€ëª…ì„ ì˜ ì¥ë‚¨ ì¡°ì˜ë¯¼</div>
                </div>
                <div style="display: inline-block; margin: 20px 10px;">
                    <div style="font-weight: 700; margin-bottom: 10px;">ì‹ ë¶€ì¸¡</div>
                    <div>ê¶Œìˆœë¬¸ Â· ì´ì€ìˆ™ì˜ ì°¨ë…€ ê¶Œì±„ë¦°</div>
                </div>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ì´ˆëŒ€ ë©”ì‹œì§€ -->
        <section class="invitation-msg special-border retro-section" style="display: none;">
            <div style="text-align: center; font-size: 16px; margin-bottom: 20px;">
                <span class="pixel-icon pixel-icon-message"></span> INVITATION MESSAGE <span class="pixel-icon pixel-icon-message"></span>
            </div>
            <p style="text-align: center; line-height: 2.5;">
                PLAYER 1ê³¼ PLAYER 2ê°€<br>
                LIFE GAMEì˜ â€˜í‰ìƒ ë“€ì˜¤â€™ í€˜ìŠ¤íŠ¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.<br>
                ë°”ëŒì´ ë¶ˆì–´ë„, ë¹„ê°€ ë‚´ë ¤ë„<br>
                HP í’€ë¡œ ì±„ì›Œì£¼ëŠ” ê·¸ëŠ˜,<br>
                MP ë¬´í•œ íšŒë³µí•˜ëŠ” ë¿Œë¦¬ì²˜ëŸ¼<br>
                ì„œë¡œë¥¼ ì§€í‚¤ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.<br>
                ìš°ë¦¬ì˜ 1 STAGE ğŸ® ë¥¼<br>
                í•¨ê»˜ í´ë¦¬ì–´í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!<br>
            </p>
            <div style="text-align: center; margin-top: 20px;">
                <span class="pixel-heart"></span>
                <span class="pixel-heart"></span>
                <span class="pixel-heart"></span>
                <span>(Not the Life Point)</span>
            </div>
        </section>

        <!-- ëª¨ë˜ í˜¼ì£¼ ì—°ë½ì²˜ -->
        <section class="parents-contact modern-section">
            <h3 style="text-align: center; margin-bottom: 30px; margin-top: 50px; font-size: 22px;">
                í˜¼ì£¼ ì—°ë½ì²˜
            </h3>
            
            <div style="margin-bottom: 30px;">
                <div style="text-align: center; margin-bottom: 15px; font-size: 16px;">
                    ì‹ ë‘ì¸¡
                </div>
                <div style="padding: 20px; border: 3px dashed var(--pixel-pink);">
                    <div class="parent-contact-wrapper">
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="parent-title">ì•„ë²„ì§€</span>
                                <strong class="parent-name">ì¡°êµ­ì œ</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('groom', 'father')" class="contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('groom', 'father')" class="contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="parent-title">ì–´ë¨¸ë‹ˆ</span>
                                <strong class="parent-name">ê¹€ëª…ì„ </strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('groom', 'mother')" class="contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('groom', 'mother')" class="contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div style="text-align: center; margin-bottom: 15px; font-size: 16px;">
                    ì‹ ë¶€ì¸¡
                </div>
                <div style="padding: 20px; border: 3px dashed var(--pixel-pink);">
                    <div class="parent-contact-wrapper">
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="parent-title">ì•„ë²„ì§€</span>
                                <strong class="parent-name">ê¶Œìˆœë¬¸</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('bride', 'father')" class="contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('bride', 'father')" class="contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="parent-title">ì–´ë¨¸ë‹ˆ</span>
                                <strong class="parent-name">ì´ì€ìˆ™</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('bride', 'mother')" class="contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('bride', 'mother')" class="contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ í˜¼ì£¼ ì—°ë½ì²˜ -->
        <section class="parents-contact retro-section" style="display: none;">
            <h3 style="text-align: center; margin-bottom: 30px; margin-top: 50px; font-size: 22px; overflow: visible;">
                <span class="pixel-icon pixel-icon-phone"></span>GAME MASTERS<span class="pixel-icon pixel-icon-phone"></span>
            </h3>
            
            <div style="margin-bottom: 30px;">
                <div style="text-align: center; margin-bottom: 15px; font-size: 16px; color: var(--pixel-yellow);">
                    PLAYER 1 TEAM
                </div>
                <div style="padding: 20px; border: 3px dashed var(--pixel-pink);">
                    <div class="game-master-buttons">
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="retro-parent-title">FATHER</span>
                                <strong class="parent-name">ì¡°êµ­ì œ</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('groom', 'father')" class="retro-contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('groom', 'father')" class="retro-contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="retro-parent-title">MOTHER</span>
                                <strong class="parent-name">ê¹€ëª…ì„ </strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('groom', 'mother')" class="retro-contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('groom', 'mother')" class="retro-contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div style="text-align: center; margin-bottom: 15px; font-size: 16px; color: var(--pixel-yellow);">
                    PLAYER 2 TEAM
                </div>
                <div style="padding: 20px; border: 3px dashed var(--pixel-pink);">
                    <div class="game-master-buttons">
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="retro-parent-title">FATHER</span>
                                <strong class="parent-name">ê¶Œìˆœë¬¸</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('bride', 'father')" class="retro-contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('bride', 'father')" class="retro-contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                        <div class="parent-contact-row">
                            <div class="parent-info">
                                <span class="retro-parent-title">MOTHER</span>
                                <strong class="parent-name">ì´ì€ìˆ™</strong>
                            </div>
                            <div class="parent-buttons">
                                <button onclick="callParent('bride', 'mother')" class="retro-contact-btn">
                                    ğŸ“
                                </button>
                                <button onclick="smsParent('bride', 'mother')" class="retro-contact-btn">
                                    ğŸ’¬
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ëª¨ë˜ ë‹¬ë ¥ -->
        <section class="calendar modern-section">
            <h3 style="text-align: center; font-size: 18px;">
                2025ë…„ 9ì›”
            </h3>
            <div class="calendar-grid" id="calendar-modern">
                <!-- ë‹¬ë ¥ ìƒì„± -->
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ë‹¬ë ¥ -->
        <section class="calendar retro-section" style="display: none;">
            <h3 style="text-align: center; font-size: 18px;">
                <span class="pixel-icon pixel-icon-calendar"></span> 2025ë…„ 9ì›” <span class="pixel-icon pixel-icon-calendar"></span>
            </h3>
            <div class="calendar-grid" id="calendar-retro">
                <!-- ë‹¬ë ¥ ìƒì„± -->
            </div>
        </section>

        <!-- í†µí•© ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ -->
        <section class="photo-album" id="photoAlbumSection">
            <h3 id="galleryTitle" style="font-size: 18px; text-align: center;">
                ì‚¬ì§„ ê°¤ëŸ¬ë¦¬
            </h3>
            <div id="galleryDescription" style="text-align: center; margin-bottom: 15px; font-size: 12px;">
                â€» ì‚¬ì§„ì„ í´ë¦­í•˜ì‹œë©´ í¬ê²Œ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ â€»
            </div>
            <div class="photo-slider" id="photoSlider">
                <div class="photo-track" id="photoTrack">
                    <!-- ì‚¬ì§„ë“¤ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                </div>
            </div>
            <div class="slider-controls">
                <button class="slider-btn" id="prevBtn" onclick="previousPhoto(); event.stopPropagation();">
                    â—€
                </button>
                <span id="photoCounter">1 / 5</span>
                <button class="slider-btn" id="nextBtn" onclick="nextPhoto(); event.stopPropagation();">
                    â–¶
                </button>
            </div>
        </section>

        <!-- ì‚¬ì§„ í™•ëŒ€ ëª¨ë‹¬ -->
        <div class="photo-modal" id="photoModal">
            <span class="close-photo" onclick="closePhotoModal()">Ã—</span>
            <img id="modalPhoto" src="" alt="í™•ëŒ€ ì‚¬ì§„">
        </div>

        <!-- ëª¨ë˜ ì˜¤ì‹œëŠ” ê¸¸ -->
        <section class="directions modern-section">
            <h3 style="text-align: center; font-size: 18px;">
                ì˜¤ì‹œëŠ” ê¸¸
            </h3>
            
            <div style="padding: 20px; margin: 20px 0; border: 3px solid var(--pixel-pink); text-align: center;">
                <div style="font-size: 16px; margin-bottom: 15px; color: var(--pixel-yellow);">
                    ì¼„ì‹±í„´í˜¸í…” ì—¬ì˜ë„
                </div>
                <div style="font-size: 14px; line-height: 2;">
                    ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬<br>
                    êµ­íšŒëŒ€ë¡œ 76ê¸¸ 16, 15ì¸µ<br>
                    â˜ï¸ 02-6670-7000
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <div style="white-space: nowrap;">
                    <button onclick="openNaverMap()" style="margin: 5px; padding: 20px 30px; white-space: nowrap; display: inline-block;">
                        ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„
                    </button>
                    <button onclick="openKakaoMap()" style="margin: 5px; padding: 20px 30px; white-space: nowrap; display: inline-block;">
                        ğŸ—ºï¸ ì¹´ì¹´ì˜¤ë§µ
                    </button>
                </div>
            </div>

            <div style="padding: 20px; border: 3px dashed var(--pixel-pink); margin: 15px 0;">
                <div style="font-size: 16px; margin-bottom: 15px;">ğŸš‡ ì§€í•˜ì² </div>
                <div style="font-size: 14px; line-height: 2;">
                    â€¢ 9í˜¸ì„  êµ­íšŒì˜ì‚¬ë‹¹ì—­ 3ë²ˆ ì¶œêµ¬ (ë„ë³´ 3ë¶„)<br>
                    â€¢ 5í˜¸ì„  ì—¬ì˜ë‚˜ë£¨ì—­ 1ë²ˆ ì¶œêµ¬ (ë„ë³´ 10ë¶„)
                </div>
            </div>

            <div style="padding: 20px; border: 3px dashed var(--pixel-pink); margin: 15px 0;">
                <div style="font-size: 16px; margin-bottom: 15px;">ğŸšŒ ë²„ìŠ¤</div>
                <div style="font-size: 14px; line-height: 2;">
                    ì—¬ì˜ë„ ìˆœë³µìŒêµíšŒ í•˜ì°¨<br>
                    5615, 5618, 6623, 753ë²ˆ
                </div>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ì˜¤ì‹œëŠ” ê¸¸ -->
        <section class="directions special-border retro-section" style="display: none;">
            <h3 style="text-align: center; font-size: 18px;">
                <span class="pixel-icon pixel-icon-map"></span> GAME LOCATION<span class="pixel-icon pixel-icon-map"></span>
            </h3>
            
            <div style="padding: 20px; margin: 20px 0; border: 3px solid var(--pixel-pink); text-align: center;">
                <div style="font-size: 16px; margin-bottom: 15px; color: var(--pixel-yellow);">
                    ì¼„ì‹±í„´í˜¸í…” ì—¬ì˜ë„
                </div>
                <div style="font-size: 14px; line-height: 2;">
                    ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬<br>
                    êµ­íšŒëŒ€ë¡œ 76ê¸¸ 16, 15ì¸µ<br>
                    â˜ï¸ 02-6670-7000
                </div>
            </div>

            <div style="text-align: center; margin: 30px 0;">
                <button onclick="openNaverMap()" style="margin: 10px; padding: 20px 30px;">
                    ğŸ—ºï¸ NAVER MAP
                </button>
                <button onclick="openKakaoMap()" style="margin: 10px; padding: 20px 30px;">
                    ğŸ—ºï¸ KAKAO MAP
                </button>
            </div>

            <div style="padding: 20px; border: 3px dashed var(--pixel-pink); margin: 15px 0;">
                <div style="font-size: 16px; margin-bottom: 15px; color: var(--pixel-yellow);">ğŸš‡ SUBWAY ROUTE</div>
                <div style="font-size: 14px; line-height: 2;">
                    â€¢ 9í˜¸ì„  êµ­íšŒì˜ì‚¬ë‹¹ì—­ 3ë²ˆ ì¶œêµ¬ (ë„ë³´ 3ë¶„)<br>
                    â€¢ 5í˜¸ì„  ì—¬ì˜ë‚˜ë£¨ì—­ 1ë²ˆ ì¶œêµ¬ (ë„ë³´ 10ë¶„)
                </div>
            </div>

            <div style="padding: 20px; border: 3px dashed var(--pixel-pink); margin: 15px 0;">
                <div style="font-size: 16px; margin-bottom: 15px; color: var(--pixel-yellow);">ğŸšŒ BUS ROUTE</div>
                <div style="font-size: 14px; line-height: 2;">
                    ì—¬ì˜ë„ ìˆœë³µìŒêµíšŒ í•˜ì°¨<br>
                    5615, 5618, 6623, 753ë²ˆ
                </div>
            </div>
        </section>

        
        <!-- ë°©ëª…ë¡ ë¡œë“œ -->
        <script src="js/guestbook.js" defer></script>

        <!-- ëª¨ë˜ ë°©ëª…ë¡ -->
        <section class="guestbook modern-section">
          <h3 style="text-align:center;font-size:18px;">ë°©ëª…ë¡</h3>

          <div style="text-align:center;margin:30px 0;">
            <button onclick="document.getElementById('guestbookModal').style.display='flex'" style="padding:20px 40px;font-size:16px;">
              âœï¸ ì¶•í•˜ ë©”ì‹œì§€ ì‘ì„±í•˜ê¸°
            </button>
          </div>
      
          <!-- í˜ì´ì§€ ë²ˆí˜¸ -->
          <div style="position:relative;margin:20px 0;">
            <div id="pageIndicatorModern"
                 style="position:absolute;top:-25px;right:10px;background:var(--pixel-dark);
                        padding:5px 15px;border:2px solid var(--pixel-pink);color:var(--pixel-yellow);font-size:12px;z-index:10;">
              PAGE 1
            </div>
        
            <!-- ëª¨ë˜ ë°©ëª…ë¡ ë¦¬ìŠ¤íŠ¸ -->
            <div class="guestbook-page-container" style="border:4px solid var(--pixel-pink);padding:20px;min-height:450px;">
              <div class="guestbook-list" id="guestbookListModern"></div>
            </div>
          </div>
      
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="guestbook-pagination" style="text-align:center;margin-top:20px;">
            <button id="prevPageBtnModern" class="slider-btn" onclick="previousGuestbookPage()">â—€</button>
            <span id="pageInfoModern" style="margin:0 10px;font-size:14px;">1 / 1</span>
            <button id="nextPageBtnModern" class="slider-btn" onclick="nextGuestbookPage()">â–¶</button>
          </div>
        </section>

        <!-- ë ˆíŠ¸ë¡œ ë°©ëª…ë¡ -->
        <section class="guestbook retro-section" style="display:none;">
          <h3 style="text-align:center;font-size:18px;">
            <span class="pixel-icon pixel-icon-write"></span> GUEST BOOK
            <span class="pixel-icon pixel-icon-write"></span>
          </h3>
      
          <div style="text-align:center;margin:30px 0;">
            <button class="guestbook-write-btn" onclick="document.getElementById('guestbookModal').style.display='flex'" style="padding:20px 40px;font-size:16px;">
              âœï¸ WRITE MESSAGE
            </button>
          </div>
      
          <div style="position:relative;margin:20px 0;">
            <div id="pageIndicatorRetro"
                 style="position:absolute;top:-25px;right:10px;background:var(--pixel-dark);
                        padding:5px 15px;border:2px solid var(--pixel-pink);color:var(--pixel-yellow);font-size:12px;z-index:10;">
              PAGE 1
            </div>
        
            <div class="guestbook-page-container"
                 style="border:4px solid var(--pixel-pink);padding:20px;min-height:450px;">
              <div class="guestbook-list" id="guestbookListRetro"></div>
            </div>
          </div>
      
          <div class="guestbook-pagination" style="text-align:center;margin-top:20px;">
            <button id="prevPageBtnRetro" class="slider-btn" onclick="previousGuestbookPage()">â—€</button>
            <span id="pageInfoRetro" style="margin:0 10px;color:var(--pixel-yellow);font-size:14px;">1 / 1</span>
            <button id="nextPageBtnRetro" class="slider-btn" onclick="nextGuestbookPage()">â–¶</button>
          </div>
        </section>


        <!-- ëª¨ë˜ ì°¸ì„ ì—¬ë¶€ -->
        <section class="attendance modern-section" style="text-align: center; padding: 40px 0;">
            <div style="white-space: nowrap;">
                <button onclick="openAttendanceModal()" style="padding: 25px 50px; font-size: 18px; white-space: nowrap; display: inline-block;">
                    ğŸ’’ ì°¸ì„ ì—¬ë¶€ ì•Œë ¤ì£¼ê¸° ğŸ’’
                </button>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ì°¸ì„ ì—¬ë¶€ -->
        <section class="attendance retro-section" style="display: none; text-align: center; padding: 40px 0;">
            <div style="white-space: nowrap;">
                <button onclick="openAttendanceModal()" style="padding: 25px 50px; font-size: 18px; white-space: nowrap; display: inline-block;" class="special-border">
                    ğŸ® JOIN GAME ğŸ®
                </button>
            </div>
        </section>

        <!-- ëª¨ë˜ ë§ˆìŒ ì „í•˜ëŠ” ê³³ -->
        <section class="account-info modern-section">
            <h3 style="text-align: center; font-size: 18px;">
                ë§ˆìŒ ì „í•˜ì‹¤ ê³³
            </h3>
            <div style="font-size: 14px; text-align: center; margin: 20px 0; color: var(--pixel-yellow);">
                ì¶•í•˜ì˜ ë§ˆìŒì„ ì „ë‹¬í•´ì£¼ì‹ ë‹¤ë©´<br>
                í° í˜ì´ ë˜ê² ìŠµë‹ˆë‹¤.
            </div>
            
            <div class="account-section">
                <div class="account-group">
                    <h4 style="text-align: center; margin: 20px 0; font-size: 16px;">ì‹ ë‘ì¸¡</h4>
                    <div class="account-list" id="groomAccounts">
                        <!-- ê³„ì¢Œ ì •ë³´ê°€ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <div class="account-group">
                    <h4 style="text-align: center; margin: 20px 0; font-size: 16px;">ì‹ ë¶€ì¸¡</h4>
                    <div class="account-list" id="brideAccounts">
                        <!-- ê³„ì¢Œ ì •ë³´ê°€ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ë§ˆìŒ ì „í•˜ëŠ” ê³³ -->
        <section class="account-info special-border retro-section" style="display: none;">
            <h3 style="text-align: center; font-size: 18px;">
                <span class="pixel-icon pixel-icon-gift"></span> SUPPORT PLAYERS <span class="pixel-icon pixel-icon-gift"></span>
            </h3>
            
            <div style="margin: 30px 0;">
                <div style="text-align: center; margin-bottom: 20px; font-size: 16px; color: var(--pixel-yellow);">
                    PLAYER 1 ACCOUNT
                </div>
                <div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ì¡°ì˜ë¯¼: ë†í˜‘ 302-1008-6711-31</span>
                        <button onclick="copyAccount('3021008671131')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>
                <div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ì¡°êµ­ì œ(ë¶€): ë†í˜‘ 848-02-052946</span>
                        <button onclick="copyAccount('84802052946')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>
		<div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ê¹€ëª…ì„ (ëª¨): ë†í˜‘ 177784-56-065611</span>
                        <button onclick="copyAccount('17778456065611')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>

            </div>

            <div style="margin: 30px 0;">
                <div style="text-align: center; margin-bottom: 20px; font-size: 16px; color: var(--pixel-yellow);">
                    PLAYER 2 ACCOUNT
                </div>
                <div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ê¶Œì±„ë¦°: ê¸°ì—…ì€í–‰ 01044483268</span>
                        <button onclick="copyAccount('01044483268')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>
                <div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ê¶Œìˆœë¬¸(ë¶€): ì‹ í•œì€í–‰ 323-04-048686</span>
                        <button onclick="copyAccount('32304048686')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>
		<div style="padding: 15px; border: 3px dashed var(--pixel-pink); margin-bottom: 10px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 12px;">ì´ì€ìˆ™(ëª¨): í•˜ë‚˜ì€í–‰ 125-910052-94207 </span>
                        <button onclick="copyAccount('12591005294207')" style="font-size: 12px; padding: 8px 15px;">
                            COPY
                        </button>
                    </div>
                </div>

            </div>
        </section>

        <!-- ëª¨ë˜ ê³µìœ í•˜ê¸° -->
        <section class="share-buttons modern-section">
            <div>
                <button class="share-btn" onclick="shareKakao()">
                    ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
                </button>
                <button class="share-btn" onclick="copyURL()">
                    ğŸ”— ë§í¬ ë³µì‚¬
                </button>
            </div>
        </section>
        
        <!-- ë ˆíŠ¸ë¡œ ê³µìœ í•˜ê¸° -->
        <section class="share-buttons retro-section" style="display: none;">
            <div>
                <button class="share-btn" onclick="shareKakao()">
                    ğŸ’¬ KAKAO SHARE
                </button>
                <button class="share-btn" onclick="copyURL()">
                    ğŸ”— COPY LINK
                </button>
            </div>
        </section>

        <!-- ëª¨ë˜ ì—”ë”© í¬ë ˆë”§ -->
        <section class="ending-credits modern-section" style="text-align: center; padding: 60px 20px;">
            <div class="celebrate-text" style="font-size: 20px; margin-bottom: 30px;">
                ì†Œì¤‘í•œ ë‚ ì— í•¨ê»˜í•´ ì£¼ì…”ì„œ<br>
                ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤
            </div>
            <div style="font-size: 24px; color: var(--pixel-pink);">
                ê¶Œì±„ë¦° â¤ï¸ ì¡°ì˜ë¯¼
            </div>
            <div style="margin-top: 30px; font-size: 14px; color: var(--pixel-yellow);">
                2025.09.27
            </div>
        </section>
        
        <!-- ë¯¸ë‹ˆê²Œì„ ì„¹ì…˜ (ë ˆíŠ¸ë¡œ í…Œë§ˆ) -->
        <section class="minigame-section retro-section" style="display: none; padding: 40px 20px; background: var(--pixel-dark);">
            <h3 style="text-align: center; font-size: 18px; margin-bottom: 30px; color: var(--pixel-yellow);">
                <span class="pixel-icon">ğŸ®</span> WEDDING RUNNER GAME <span class="pixel-icon">ğŸ®</span>
            </h3>
            <div id="miniGameContainer"></div>
        </section>

        <!-- ë ˆíŠ¸ë¡œ ì—”ë”© í¬ë ˆë”§ -->
        <section class="ending-credits retro-section" style="text-align: center; padding: 60px 20px; display: none;">
            <div class="celebrate-text" style="font-size: 20px; margin-bottom: 30px;">
                <span class="pixel-heart"></span> THANK YOU <span class="pixel-heart"></span>
            </div>
            <p style="font-size: 12px; line-height: 2;">
                ì†Œì¤‘í•œ ë‚ ì— í•¨ê»˜í•´ ì£¼ì…”ì„œ<br>
                ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤
            </p>
            <p style="font-size: 10px; margin-top: 20px; color: var(--pixel-yellow);">
                â™ª GAME OVER â™ª<br>
                SEE YOU AT THE WEDDING!
            </p>
        </section>
    </div>

    <!-- ë°©ëª…ë¡ ëª¨ë‹¬ -->
    <div id="guestbookModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('guestbookModal').style.display='none'" style="font-size: 30px; cursor: pointer;">Ã—</span>
            <h3 style="font-size: 18px;" id="guestbookModalTitle">ğŸ’Œ ì¶•í•˜ ë©”ì‹œì§€ ì‘ì„± ğŸ’Œ</h3>
            <form id="guestbookForm">
                <div class="form-group">
                    <label id="guestNameLabel">ì„±í•¨</label>
                    <input type="text" id="guestName" name="name" required maxlength="20" placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label id="guestMessageLabel">ì¶•í•˜ ë©”ì‹œì§€</label>
                    <textarea id="guestMessage" name="message" rows="5" required maxlength="200" 
                              placeholder="ë”°ëœ»í•œ ì¶•í•˜ì˜ ë§ì”€ì„ ë‚¨ê²¨ì£¼ì„¸ìš”"></textarea>
                </div>
                <button type="submit" style="width: 100%; font-size: 16px; padding: 20px;" id="guestbookSubmitBtn">
                    ì‘ì„± ì™„ë£Œ
                </button>
            </form>
        </div>
    </div>

    <!-- ì°¸ì„ ì—¬ë¶€ ëª¨ë‹¬ -->
    <div id="attendanceModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeAttendanceModal()" style="font-size: 30px;">Ã—</span>
            <h3 style="font-size: 18px;" id="attendanceModalTitle">ğŸ’’ ì°¸ì„ ì—¬ë¶€ í™•ì¸ ğŸ’’</h3>
            <form id="attendanceForm">
                <div class="form-group">
                    <label id="attendeeNameLabel">ì„±í•¨</label>
                    <input type="text" id="attendeeName" name="name" required placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
                <div class="form-group">
                    <label id="attendeePhoneLabel">ì—°ë½ì²˜</label>
                    <input type="tel" id="attendeePhone" name="phone" required placeholder="010-0000-0000">
                </div>
                <div class="form-group">
                    <label id="attendanceStatusLabel">ì°¸ì„ ì—¬ë¶€</label>
                    <select id="attendanceStatus" name="status" required style="font-size: 14px;">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="attend">ì°¸ì„í•©ë‹ˆë‹¤</option>
                        <option value="absent">ì°¸ì„ì´ ì–´ë µìŠµë‹ˆë‹¤</option>
                    </select>
                </div>
                <div class="form-group">
                    <label id="guestCountLabel">ë™í–‰ ì¸ì› (ë³¸ì¸ í¬í•¨)</label>
                    <input type="number" id="guestCount" name="count" min="1" max="10" value="1">
                </div>
                <div class="form-group">
                    <label id="relationLabel">êµ¬ë¶„</label>
                    <select id="relation" name="relation" required style="font-size: 14px;">
                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="groom">ì‹ ë‘ì¸¡ í•˜ê°</option>
                        <option value="bride">ì‹ ë¶€ì¸¡ í•˜ê°</option>
                    </select>
                </div>
                <button type="submit" style="width: 100%; font-size: 16px; padding: 20px;" id="attendanceSubmitBtn">
                    í™•ì¸
                </button>
            </form>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ëª¨ë‹¬ í•¨ìˆ˜ë“¤ - ìµœìƒë‹¨ì— ì •ì˜
        window.openGuestbookModal = function() {
            const modal = document.getElementById('guestbookModal');
            if (modal) {
                modal.style.display = 'flex';
                console.log('Guestbook modal opened');
            } else {
                console.error('Guestbook modal not found');
            }
        }
        
        window.closeGuestbookModal = function() {
            const modal = document.getElementById('guestbookModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        window.openAttendanceModal = function() {
            const modal = document.getElementById('attendanceModal');
            if (modal) {
                modal.style.display = 'flex';
            }
        }
        
        window.closeAttendanceModal = function() {
            const modal = document.getElementById('attendanceModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // í…Œë§ˆ ê´€ë¦¬
        let currentTheme = 'modern';
        
        // ì•¨ë²” ì‚¬ì§„ ê²½ë¡œ í•¨ìˆ˜ë¥¼ ë¨¼ì € ì •ì˜
        function getAlbumPhotos(isRetro = false) {
            // GitHub Pages ì²´í¬ - hostnameìœ¼ë¡œë§Œ íŒë‹¨
            const isGitHubPages = window.location.hostname === 'luke-youngmin-cho.github.io';
            // ë¡œì»¬ì—ì„œëŠ” ë¹ˆ ë¬¸ìì—´, GitHub Pagesì—ì„œë§Œ /Wedding-Invitation ì¶”ê°€
            const baseUrl = isGitHubPages ? '/Wedding-Invitation' : '';
            
            console.log('=== Album Path Builder ===');
            console.log('Hostname:', window.location.hostname);
            console.log('Pathname:', window.location.pathname);
            console.log('Is GitHub Pages:', isGitHubPages);
            console.log('Base URL:', baseUrl);
            console.log('Is Retro Theme:', isRetro);
            
            // ë ˆíŠ¸ë¡œ í…Œë§ˆìš© ì‚¬ì§„ê³¼ ëª¨ë˜ í…Œë§ˆìš© ì‚¬ì§„ êµ¬ë¶„
            const folder = isRetro ? 'AlbumSlidesRetro' : 'AlbumSlides';
            const extension = isRetro ? 'png' : 'jpg';
            
            // baseUrlì´ ìˆìœ¼ë©´ /ë¥¼ í¬í•¨, ì—†ìœ¼ë©´ ìƒëŒ€ ê²½ë¡œë¡œ
            const pathPrefix = baseUrl ? `${baseUrl}/` : '';
            const paths = [
                `${pathPrefix}assets/${folder}/album1.${extension}`,
                `${pathPrefix}assets/${folder}/album2.${extension}`,
                `${pathPrefix}assets/${folder}/album3.${extension}`,
                `${pathPrefix}assets/${folder}/album4.${extension}`,
                `${pathPrefix}assets/${folder}/album5.${extension}`
            ];
            
            console.log('Generated paths:', paths);
            return paths;
        }
        
        // ë™ì ìœ¼ë¡œ ê²½ë¡œ ìƒì„± (ê¸°ë³¸ì€ ëª¨ë˜ í…Œë§ˆ)
        let albumPhotos = getAlbumPhotos(false);
        let retroAlbumPhotos = getAlbumPhotos(true);
        
        // í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ëª¨ë˜ í…Œë§ˆë¡œ ì‹œì‘
            const modernStyles = document.getElementById('modern-styles');
            const retroStyles = document.getElementById('retro-styles');
            const modernLegacyStyles = document.getElementById('modern-legacy-styles');
            const retroLegacyStyles = document.getElementById('retro-legacy-styles');
            
            modernStyles.disabled = false;
            retroStyles.disabled = true;
            if (modernLegacyStyles) modernLegacyStyles.disabled = false;
            if (retroLegacyStyles) retroLegacyStyles.disabled = true;
            
            // ë‹¬ë ¥ ìƒì„±
            setupCalendar();
            
            // ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” - ì™„ì „íˆ ì´ˆê¸°í™”ë˜ë„ë¡ ì§€ì—° ì‹¤í–‰
            setTimeout(() => {
                // ê¸°ì¡´ ë‚´ìš© ì™„ì „íˆ ì œê±°
                const photoTrack = document.getElementById('photoTrack');
                const photoTrack2 = document.getElementById('photoTrack2');
                if (photoTrack) photoTrack.innerHTML = '';
                if (photoTrack2) photoTrack2.innerHTML = '';
                
                console.log('=== Delayed Gallery Init ===');
                initGallery();
            }, 500);
            // ê³„ì¢Œ ì •ë³´ ë¡œë“œ
            loadAccountInfo();
            // ë¯¸ë‹ˆê²Œì„ ì´ˆê¸°í™” - Firebase í•¨ìˆ˜ê°€ ì •ì˜ëœ í›„ ì•½ê°„ì˜ ì§€ì—°
            setTimeout(() => {
                if (window.initMiniGame) {
                    console.log('Initializing mini game with Firebase support...');
                    window.initMiniGame('miniGameContainer');
                } else {
                    console.log('Mini game not loaded yet');
                }
            }, 500);
            
            // Portal trigger ì´ë²¤íŠ¸
            const portalTrigger = document.getElementById('portalTrigger');
            const returnPortal = document.getElementById('returnPortal');
            const transitionPanel = document.getElementById('transitionPanel');
            
            if (portalTrigger) {
                portalTrigger.addEventListener('click', function() {
                    // ê²½ê³  íŒ¨ë„ í‘œì‹œ
                    transitionPanel.style.display = 'flex';
                    transitionPanel.classList.add('active');
                });
            }
            
            // Return portal ì´ë²¤íŠ¸ (ê²Œì„ì—ì„œ ëŒì•„ì˜¤ê¸°)
            if (returnPortal) {
                returnPortal.addEventListener('click', function() {
                    switchToModernTheme();
                });
            }
            
            // Transition panel í´ë¦­ ì´ë²¤íŠ¸
            if (transitionPanel) {
                transitionPanel.addEventListener('click', function() {
                    // ë ˆíŠ¸ë¡œ í…Œë§ˆë¡œ ì „í™˜
                    switchToRetroTheme();
                    transitionPanel.style.display = 'none';
                    transitionPanel.classList.remove('active');
                });
            }
        });
        
        // ë ˆíŠ¸ë¡œ í…Œë§ˆë¡œ ì „í™˜
        function switchToRetroTheme() {
            const modernStyles = document.getElementById('modern-styles');
            const retroStyles = document.getElementById('retro-styles');
            const modernLegacyStyles = document.getElementById('modern-legacy-styles');
            const retroLegacyStyles = document.getElementById('retro-legacy-styles');
            const portalTrigger = document.getElementById('portalTrigger');
            const returnPortal = document.getElementById('returnPortal');
            
            // ìŠ¤í¬ë¡¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì „í™˜
            modernStyles.disabled = true;
            retroStyles.disabled = false;
            if (modernLegacyStyles) modernLegacyStyles.disabled = true;
            if (retroLegacyStyles) retroLegacyStyles.disabled = false;
            
            currentTheme = 'retro';
            
            // body í´ë˜ìŠ¤ ì¶”ê°€
            document.body.classList.add('retro-active');
            
            // ë©”ì¸ ì‚¬ì§„ ë³€ê²½
            const mainPhoto = document.getElementById('mainPhoto');
            if (mainPhoto) {
                const isGitHubPages = window.location.hostname === 'luke-youngmin-cho.github.io';
                const baseUrl = isGitHubPages ? '/Wedding-Invitation' : '';
                mainPhoto.src = `${baseUrl ? baseUrl + '/' : ''}assets/main_retro.jpg`;
            }
            
            // ì„¹ì…˜ ì „í™˜
            switchSections('retro');
            
            // ë ˆíŠ¸ë¡œ íš¨ê³¼ ì‹œì‘
            createFireworks();
            createFloatingHearts();
            
            // ê°¤ëŸ¬ë¦¬ UI í…ìŠ¤íŠ¸ ë³€ê²½
            document.getElementById('galleryTitle').innerHTML = '<span class="pixel-icon pixel-icon-photo"></span> PHOTO GALLERY <span class="pixel-icon pixel-icon-photo"></span>';
            document.getElementById('galleryDescription').innerHTML = 'â€» CLICK TO ZOOM â€»';
            document.getElementById('galleryDescription').style.color = 'var(--pixel-yellow)';
            document.getElementById('prevBtn').innerHTML = 'â—€';
            document.getElementById('nextBtn').innerHTML = 'â–¶';
            
            // ë ˆíŠ¸ë¡œ ê°¤ëŸ¬ë¦¬ë¡œ ë³€ê²½
            const photoSlider = document.getElementById('photoSlider');
            photoSlider.classList.add('retro-photo-slider');
            const photoTrack = document.getElementById('photoTrack');
            photoTrack.classList.add('retro-photo-track');
            
            // ë ˆíŠ¸ë¡œ ì´ë¯¸ì§€ë¡œ ì¬ì´ˆê¸°í™”
            updateGalleryImages('retro');
            
            // Portal ì „í™˜ (í•‘í¬ ìˆ¨ê¸°ê³  í°ìƒ‰ í‘œì‹œ)
            if (portalTrigger) {
                portalTrigger.style.display = 'none';
            }
            if (returnPortal) {
                returnPortal.style.display = 'block';
            }
        }
        
        // ëª¨ë˜ í…Œë§ˆë¡œ ì „í™˜
        function switchToModernTheme() {
            const modernStyles = document.getElementById('modern-styles');
            const retroStyles = document.getElementById('retro-styles');
            const modernLegacyStyles = document.getElementById('modern-legacy-styles');
            const retroLegacyStyles = document.getElementById('retro-legacy-styles');
            const portalTrigger = document.getElementById('portalTrigger');
            const returnPortal = document.getElementById('returnPortal');
            
            // ìŠ¤í¬ë¡¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì „í™˜
            modernStyles.disabled = false;
            retroStyles.disabled = true;
            if (modernLegacyStyles) modernLegacyStyles.disabled = false;
            if (retroLegacyStyles) retroLegacyStyles.disabled = true;
            
            currentTheme = 'modern';
            
            // body í´ë˜ìŠ¤ ì œê±°
            document.body.classList.remove('retro-active');
            
            // ë©”ì¸ ì‚¬ì§„ ë³€ê²½
            const mainPhoto = document.getElementById('mainPhoto');
            if (mainPhoto) {
                const isGitHubPages = window.location.hostname === 'luke-youngmin-cho.github.io';
                const baseUrl = isGitHubPages ? '/Wedding-Invitation' : '';
                mainPhoto.src = `${baseUrl ? baseUrl + '/' : ''}assets/main.jpg`;
            }
            
            // ì„¹ì…˜ ì „í™˜
            switchSections('modern');
            
            // ë ˆíŠ¸ë¡œ íš¨ê³¼ ì •ì§€
            stopRetroEffects();
            
            // ê°¤ëŸ¬ë¦¬ UI í…ìŠ¤íŠ¸ ë³€ê²½
            document.getElementById('galleryTitle').innerHTML = 'ì‚¬ì§„ ê°¤ëŸ¬ë¦¬';
            document.getElementById('galleryDescription').innerHTML = 'â€» ì‚¬ì§„ì„ í´ë¦­í•˜ì‹œë©´ í¬ê²Œ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ â€»';
            document.getElementById('galleryDescription').style.color = '';
            document.getElementById('prevBtn').innerHTML = 'â—€';
            document.getElementById('nextBtn').innerHTML = 'â–¶';
            
            // ëª¨ë˜ ê°¤ëŸ¬ë¦¬ë¡œ ë³€ê²½
            const photoSlider = document.getElementById('photoSlider');
            photoSlider.classList.remove('retro-photo-slider');
            const photoTrack = document.getElementById('photoTrack');
            photoTrack.classList.remove('retro-photo-track');
            
            // ëª¨ë˜ ì´ë¯¸ì§€ë¡œ ì¬ì´ˆê¸°í™”
            updateGalleryImages('modern');
            
            // Portal ì „í™˜ (í°ìƒ‰ ìˆ¨ê¸°ê³  í•‘í¬ í‘œì‹œ)
            if (returnPortal) {
                returnPortal.style.display = 'none';
            }
            if (portalTrigger) {
                portalTrigger.style.display = 'block';
            }
        }
        
        // ì„¹ì…˜ ì „í™˜ í•¨ìˆ˜
        function switchSections(theme) {
            const modernSections = document.querySelectorAll('.modern-section');
            const retroSections = document.querySelectorAll('.retro-section');
            
            if (theme === 'retro') {
                modernSections.forEach(section => section.style.display = 'none');
                retroSections.forEach(section => section.style.display = 'block');
                
                // ë ˆíŠ¸ë¡œ í…Œë§ˆ ëª¨ë‹¬ í…ìŠ¤íŠ¸
                updateModalTexts('retro');
            } else {
                modernSections.forEach(section => section.style.display = 'block');
                retroSections.forEach(section => section.style.display = 'none');
                
                // ëª¨ë˜ í…Œë§ˆ ëª¨ë‹¬ í…ìŠ¤íŠ¸
                updateModalTexts('modern');
            }
        }
        
        // ëª¨ë‹¬ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updateModalTexts(theme) {
            if (theme === 'retro') {
                // ë°©ëª…ë¡ ëª¨ë‹¬
                const guestbookTitle = document.getElementById('guestbookModalTitle');
                if (guestbookTitle) guestbookTitle.innerHTML = 'ğŸ’Œ WRITE MESSAGE ğŸ’Œ';
                
                const guestNameLabel = document.getElementById('guestNameLabel');
                if (guestNameLabel) guestNameLabel.textContent = 'NAME';
                
                const guestMessageLabel = document.getElementById('guestMessageLabel');
                if (guestMessageLabel) guestMessageLabel.textContent = 'MESSAGE';
                
                const guestbookSubmit = document.getElementById('guestbookSubmitBtn');
                if (guestbookSubmit) guestbookSubmit.textContent = 'SUBMIT';
                
                const guestNameInput = document.getElementById('guestName');
                if (guestNameInput) guestNameInput.placeholder = 'Enter your name';
                
                const guestMessageInput = document.getElementById('guestMessage');
                if (guestMessageInput) guestMessageInput.placeholder = 'Leave your message';
                
                // ì°¸ì„ ì—¬ë¶€ ëª¨ë‹¬
                const attendanceTitle = document.getElementById('attendanceModalTitle');
                if (attendanceTitle) attendanceTitle.innerHTML = 'ğŸ® JOIN GAME ğŸ®';
                
                const attendeeNameLabel = document.getElementById('attendeeNameLabel');
                if (attendeeNameLabel) attendeeNameLabel.textContent = 'NAME';
                
                const attendeePhoneLabel = document.getElementById('attendeePhoneLabel');
                if (attendeePhoneLabel) attendeePhoneLabel.textContent = 'PHONE';
                
                const attendanceStatusLabel = document.getElementById('attendanceStatusLabel');
                if (attendanceStatusLabel) attendanceStatusLabel.textContent = 'STATUS';
                
                const guestCountLabel = document.getElementById('guestCountLabel');
                if (guestCountLabel) guestCountLabel.textContent = 'PARTY SIZE';
                
                const relationLabel = document.getElementById('relationLabel');
                if (relationLabel) relationLabel.textContent = 'TEAM';
                
                // ë°©ëª…ë¡ ì—…ë°ì´íŠ¸
                if (window.GuestbookManager) {
                    window.GuestbookManager.updateList();
                } else if (guestbookData) {
                    displayGuestbook(guestbookData);
                }
                
                const attendanceSubmit = document.getElementById('attendanceSubmitBtn');
                if (attendanceSubmit) attendanceSubmit.textContent = 'CONFIRM';
                
            } else {
                // ë°©ëª…ë¡ ëª¨ë‹¬
                const guestbookTitle = document.getElementById('guestbookModalTitle');
                if (guestbookTitle) guestbookTitle.innerHTML = 'ğŸ’Œ ì¶•í•˜ ë©”ì‹œì§€ ì‘ì„± ğŸ’Œ';
                
                const guestNameLabel = document.getElementById('guestNameLabel');
                if (guestNameLabel) guestNameLabel.textContent = 'ì„±í•¨';
                
                const guestMessageLabel = document.getElementById('guestMessageLabel');
                if (guestMessageLabel) guestMessageLabel.textContent = 'ì¶•í•˜ ë©”ì‹œì§€';
                
                const guestbookSubmit = document.getElementById('guestbookSubmitBtn');
                if (guestbookSubmit) guestbookSubmit.textContent = 'ì‘ì„± ì™„ë£Œ';
                
                const guestNameInput = document.getElementById('guestName');
                if (guestNameInput) guestNameInput.placeholder = 'ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
                
                const guestMessageInput = document.getElementById('guestMessage');
                if (guestMessageInput) guestMessageInput.placeholder = 'ë”°ëœ»í•œ ì¶•í•˜ì˜ ë§ì”€ì„ ë‚¨ê²¨ì£¼ì„¸ìš”';
                
                // ì°¸ì„ ì—¬ë¶€ ëª¨ë‹¬
                const attendanceTitle = document.getElementById('attendanceModalTitle');
                if (attendanceTitle) attendanceTitle.innerHTML = 'ğŸ’’ ì°¸ì„ ì—¬ë¶€ í™•ì¸ ğŸ’’';
                
                const attendeeNameLabel = document.getElementById('attendeeNameLabel');
                if (attendeeNameLabel) attendeeNameLabel.textContent = 'ì„±í•¨';
                
                const attendeePhoneLabel = document.getElementById('attendeePhoneLabel');
                if (attendeePhoneLabel) attendeePhoneLabel.textContent = 'ì—°ë½ì²˜';
                
                const attendanceStatusLabel = document.getElementById('attendanceStatusLabel');
                if (attendanceStatusLabel) attendanceStatusLabel.textContent = 'ì°¸ì„ ì—¬ë¶€';
                
                const guestCountLabel = document.getElementById('guestCountLabel');
                if (guestCountLabel) guestCountLabel.textContent = 'ë™í–‰ ì¸ì› (ë³¸ì¸ í¬í•¨)';
                
                const relationLabel = document.getElementById('relationLabel');
                if (relationLabel) relationLabel.textContent = 'êµ¬ë¶„';
                
                const attendanceSubmit = document.getElementById('attendanceSubmitBtn');
                if (attendanceSubmit) attendanceSubmit.textContent = 'í™•ì¸';
                
                // ë°©ëª…ë¡ ì—…ë°ì´íŠ¸
                if (window.GuestbookManager) {
                    window.GuestbookManager.updateList();
                } else if (guestbookData) {
                    displayGuestbook(guestbookData);
                }
            }
        }
        
        // ë ˆíŠ¸ë¡œ íš¨ê³¼ ì •ì§€
        function stopRetroEffects() {
            // ëª¨ë“  ì¸í„°ë²Œ ì •ë¦¬ëŠ” createFireworksì™€ createFloatingHearts í•¨ìˆ˜ì—ì„œ ê´€ë¦¬
            // ì—¬ê¸°ì„œëŠ” ë‹¨ìˆœíˆ í…Œë§ˆ ë³€ê²½ë§Œ í‘œì‹œ
            currentTheme = 'modern';
        }

        // í­ì£½ íš¨ê³¼
        function createFireworks() {
            let container = document.getElementById('fireworks');
            if (!container) {
                // ì»¨í…Œì´ë„ˆê°€ ì—†ìœ¼ë©´ ìƒì„±
                container = document.createElement('div');
                container.id = 'fireworks';
                container.className = 'fireworks';
                document.body.appendChild(container);
            }
            
            setInterval(() => {
                // ë ˆíŠ¸ë¡œ í…Œë§ˆì¼ ë•Œë§Œ ì‘ë™
                if (currentTheme !== 'retro') return;
                
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = (Math.random() * 80 + 10) + '%'; // 10-90% ìœ„ì¹˜
                
                // ëœë¤ í¬ê¸° ì„¤ì • (0.5 ~ 1.5ë°°)
                const scale = 0.5 + Math.random();
                firework.style.setProperty('--scale', scale);
                
                // ëœë¤ í„°ì§€ëŠ” ë†’ì´ ì„¤ì • (í™”ë©´ì˜ 20% ~ 60% ë†’ì´)
                const explodeHeight = 20 + Math.random() * 40;
                const riseTime = 1.2 + (explodeHeight / 100) * 0.8; // ë†’ì´ì— ë”°ë¼ ìƒìŠ¹ ì‹œê°„ ì¡°ì •
                
                // ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
                firework.style.animation = `none`;
                firework.style.bottom = '0';
                
                // cubic-bezierë¡œ ê°ì† íš¨ê³¼ (ì²˜ìŒì—” ë¹ ë¥´ê²Œ, ë‚˜ì¤‘ì—” ëŠë¦¬ê²Œ)
                firework.style.transition = `transform ${riseTime}s cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
                
                // í­ì£½ ê¼¬ë¦¬ íš¨ê³¼ ì¶”ê°€
                const trail = document.createElement('div');
                trail.style.position = 'absolute';
                trail.style.left = firework.style.left;
                trail.style.bottom = '0';
                trail.style.width = '4px';           // ğŸ”§ íŠ¸ë ˆì¼ ë„ˆë¹„ (í”½ì…€) - ë” êµµê²Œ: '4px', ë” ì–‡ê²Œ: '1px'
                trail.style.height = '60px';         // ğŸ”§ íŠ¸ë ˆì¼ ì´ˆê¸° ê¸¸ì´ (í”½ì…€) - ë” ê¸¸ê²Œ: '60px', ë” ì§§ê²Œ: '20px'
                trail.style.background = `linear-gradient(to top, transparent, var(--pixel-pink))`;
                trail.style.opacity = '0.8';         // ğŸ”§ íŠ¸ë ˆì¼ íˆ¬ëª…ë„ - ë” ì§„í•˜ê²Œ: '0.8', ë” ì—°í•˜ê²Œ: '0.3'
                trail.style.transition = `transform ${riseTime}s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity ${riseTime}s`;
                container.appendChild(trail);
                
                // ì•½ê°„ì˜ ë”œë ˆì´ í›„ ì˜¬ë¼ê°€ê¸° ì‹œì‘
                setTimeout(() => {
                    firework.style.transform = `translateY(-${100 - explodeHeight}vh)`;
                    trail.style.transform = `translateY(-${100 - explodeHeight}vh) scaleY(2)`;  // ğŸ”§ scaleY(2) = ì˜¬ë¼ê°€ë©´ì„œ íŠ¸ë ˆì¼ì´ 2ë°°ë¡œ ëŠ˜ì–´ë‚¨ - ë” ê¸¸ê²Œ: scaleY(3), ì§§ê²Œ: scaleY(1.5)
                    trail.style.opacity = '0';       // ğŸ”§ ìµœì¢… íˆ¬ëª…ë„ - '0.2'ë¡œ í•˜ë©´ ëê¹Œì§€ ì•½ê°„ ë³´ì„
                }, 50);
                
                // í­ë°œ íš¨ê³¼ (ìƒìŠ¹ ì‹œê°„ì— ë§ì¶° íƒ€ì´ë° ì¡°ì •)
                setTimeout(() => {
                    // í­ë°œ ì‹œê° íš¨ê³¼
                    const explosion = document.createElement('div');
                    explosion.style.position = 'absolute';
                    explosion.style.left = firework.style.left;
                    explosion.style.bottom = `${100 - explodeHeight}%`;
                    explosion.style.width = '4px';
                    explosion.style.height = '4px';
                    explosion.style.background = 'var(--pixel-yellow)';
                    
                    // í­ë°œ íŒŒí‹°í´ íš¨ê³¼
                    const colors = ['var(--pixel-pink)', 'var(--pixel-cyan)', 'var(--pixel-green)', 'var(--pixel-yellow)', 'var(--pixel-light-pink)'];
                    const particles = 16; // ë” ë§ì€ íŒŒí‹°í´
                    let shadowStr = '';
                    
                    for(let i = 0; i < particles; i++) {
                        const angle = (Math.PI * 2 * i) / particles;
                        const distance = 15 + Math.random() * 25;
                        const x = Math.cos(angle) * distance * scale;
                        const y = Math.sin(angle) * distance * scale;
                        const color = colors[Math.floor(Math.random() * colors.length)];
                        shadowStr += `${x}px ${y}px 0 ${color}${i < particles - 1 ? ',' : ''}`;
                    }
                    
                    explosion.style.boxShadow = shadowStr;
                    explosion.style.transition = 'transform 1s ease-out, opacity 1s ease-out';
                    explosion.style.transform = 'scale(0)';
                    
                    container.appendChild(explosion);
                    
                    // í­ë°œ ì†Œë¦¬ íš¨ê³¼ë¥¼ ìœ„í•œ ì‹œê°ì  í”Œë˜ì‹œ
                    explosion.style.filter = 'brightness(2)';
                    
                    setTimeout(() => {
                        explosion.style.transform = `scale(${scale * 2.5})`;
                        explosion.style.opacity = '0';
                        explosion.style.filter = 'brightness(1)';
                    }, 50);
                    
                    setTimeout(() => {
                        explosion.remove();
                        trail.remove();
                    }, 1100);
                    
                    firework.remove();
                }, riseTime * 1000); // ìƒìŠ¹ ì‹œê°„ì— ë§ì¶° í­ë°œ
            }, 600); // ë” ìì£¼ ë°œì‚¬
        }

        // ë– ë‹¤ë‹ˆëŠ” í•˜íŠ¸ì™€ í’ì„ 
        function createFloatingHearts() {
            let container = document.getElementById('floatingHearts');
            if (!container) {
                // ì»¨í…Œì´ë„ˆê°€ ì—†ìœ¼ë©´ ìƒì„±
                container = document.createElement('div');
                container.id = 'floatingHearts';
                container.className = 'floating-hearts';
                document.body.appendChild(container);
            }
            
            // í•˜íŠ¸ ìƒì„±
            setInterval(() => {
                if (currentTheme !== 'retro') return;
                const heart = document.createElement('div');
                heart.className = 'float-heart';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(heart);
                
                setTimeout(() => heart.remove(), 10000);
            }, 3000);
            
            // í’ì„  ìƒì„±
            setInterval(() => {
              if (currentTheme !== 'retro') return;
              const el = document.createElement('div');
              el.className = 'pixel-balloon';
              el.style.left = (Math.random() * 100) + '%';

              // ìƒ‰ ëœë¤
              const colors = ['#e43a3a','#ffb02e','#35c9f6','#4caf50','#ff80ab'];
              el.style.setProperty('--balloon', colors[(Math.random() * colors.length) | 0]);

              // âœ… ì •ìˆ˜ í”½ì…€ë§Œ (íë¦¿í•¨ ë°©ì§€)
              const px = Math.random() < 0.25 ? 3 : 2;
              el.style.setProperty('--px', px + 'px');

              // ë¶€ìœ  ì†ë„/ë”œë ˆì´/ë“œë¦¬í”„íŠ¸
              el.style.setProperty('--duration', (7.5 + Math.random() * 3) + 's');
              el.style.setProperty('--delay', (Math.random() * 0.8) + 's');
              el.style.setProperty('--drift', (Math.random() * 10 - 5) + 'px');

              container.appendChild(el);
              setTimeout(() => el.remove(), 12000);
            }, 1200);


        }

        // ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™”
        let currentPhotoIndex = 0;
        
        // GitHub Pages ë°°í¬ ì‹œ ê²½ë¡œ ì²˜ë¦¬ëŠ” ì´ë¯¸ ìƒë‹¨ì— ì •ì˜ë¨

        function initGallery() {
            console.log('=== Gallery Initialization Start ===');
            
            // ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì‹œì ì— ê²½ë¡œ ì¬í™•ì¸
            albumPhotos = getAlbumPhotos(false);  // ëª¨ë˜ í…Œë§ˆìš©
            retroAlbumPhotos = getAlbumPhotos(true);  // ë ˆíŠ¸ë¡œ í…Œë§ˆìš©
            
            // ì´ˆê¸° í…Œë§ˆ(ëª¨ë˜)ë¡œ ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™”
            updateGalleryImages('modern');
            
            updatePhotoCounter();
            console.log('=== Gallery Initialization Complete ===');
        }
        
        // í…Œë§ˆì— ë”°ë¼ ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸
        function updateGalleryImages(theme) {
            const photoTrack = document.getElementById('photoTrack');
            if (!photoTrack) return;
            
            photoTrack.innerHTML = '';
            currentPhotoIndex = 0; // ì¸ë±ìŠ¤ ë¦¬ì…‹
            
            const photos = theme === 'retro' ? retroAlbumPhotos : albumPhotos;
            
            photos.forEach((photo, index) => {
                const slide = document.createElement('div');
                slide.className = 'photo-slide';
                if (index === 0) slide.classList.add('active'); // ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ í™œì„±í™”
                
                const img = document.createElement('img');
                img.src = photo;
                img.alt = `ì›¨ë”© ì‚¬ì§„ ${index + 1}`;
                img.style.cursor = 'pointer';
                img.onclick = openCurrentPhoto;
                
                slide.appendChild(img);
                photoTrack.appendChild(slide);
            });
            
            updatePhotoCounter();
        }

        // ìƒˆë¡œìš´ ìŠ¬ë¼ì´ë“œ ì „í™˜ í•¨ìˆ˜
        function showSlide(index) {
            const track = document.getElementById('photoTrack');
            
            if (track) {
                const slides = track.querySelectorAll('.photo-slide');
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            }
        }

        function nextPhoto() {
            console.log('Next button clicked!');
            const photosLength = currentTheme === 'retro' ? retroAlbumPhotos.length : albumPhotos.length;
            currentPhotoIndex = (currentPhotoIndex + 1) % photosLength;
            
            showSlide(currentPhotoIndex);
            updatePhotoCounter();
        }

        function previousPhoto() {
            console.log('Previous button clicked!');
            const photosLength = currentTheme === 'retro' ? retroAlbumPhotos.length : albumPhotos.length;
            currentPhotoIndex = (currentPhotoIndex - 1 + photosLength) % photosLength;
            
            showSlide(currentPhotoIndex);
            updatePhotoCounter();
        }

        function updatePhotoCounter() {
            const counter = document.getElementById('photoCounter');
            const photosLength = currentTheme === 'retro' ? retroAlbumPhotos.length : albumPhotos.length;
            const text = `${currentPhotoIndex + 1} / ${photosLength}`;
            
            if (counter) counter.textContent = text;
        }

        function openCurrentPhoto() {
            const modal = document.getElementById('photoModal');
            const modalImg = document.getElementById('modalPhoto');
            modal.style.display = 'block';
            // í˜„ì¬ í…Œë§ˆì— ë”°ë¼ ì˜¬ë°”ë¥¸ ì‚¬ì§„ ë°°ì—´ ì‚¬ìš©
            const photos = currentTheme === 'retro' ? retroAlbumPhotos : albumPhotos;
            modalImg.src = photos[currentPhotoIndex];
        }

        // ì‚¬ì§„ í™•ëŒ€ ëª¨ë‹¬
        function closePhotoModal() {
            document.getElementById('photoModal').style.display = 'none';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
        document.getElementById('photoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePhotoModal();
            }
        });

        // ë‹¬ë ¥ ìƒì„±
        function setupCalendar() {
            // ëª¨ë˜ í…Œë§ˆ ë‹¬ë ¥
            const calendarModern = document.getElementById('calendar-modern');
            if (calendarModern) {
                setupCalendarGrid(calendarModern, false);
            }
            
            // ë ˆíŠ¸ë¡œ í…Œë§ˆ ë‹¬ë ¥
            const calendarRetro = document.getElementById('calendar-retro');
            if (calendarRetro) {
                setupCalendarGrid(calendarRetro, true);
            }
        }
        
        function setupCalendarGrid(calendar, isRetro) {
            const days = isRetro ? ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'] : ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            
            // ìš”ì¼ í—¤ë”
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-header';
                header.textContent = day;
                calendar.appendChild(header);
            });
            
            // 2025ë…„ 9ì›” 1ì¼ì€ ì›”ìš”ì¼
            const emptyDays = 1;
            for (let i = 0; i < emptyDays; i++) {
                const empty = document.createElement('div');
                empty.className = 'calendar-day';
                calendar.appendChild(empty);
            }
            
            // ë‚ ì§œ
            for (let day = 1; day <= 30; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-day';
                if (day === 27) {
                    dayEl.className += ' wedding-day';
                    if (isRetro) {
                        dayEl.innerHTML = `<strong>${day}</strong><br><span style="font-size: 16px; color: #00ffff;">ğŸ’™</span>`;
                    } else {
                        dayEl.innerHTML = `<strong>${day}</strong><br><span style="font-size: 10px;">ğŸ’’</span>`;
                    }
                } else {
                    dayEl.innerHTML = `<span>${day}</span><br><span style="font-size: 10px;">ã€€</span>`;
                }
                calendar.appendChild(dayEl);
            }
        }

        // ëª¨ë‹¬ í•¨ìˆ˜ë“¤ì€ ì´ë¯¸ ìƒë‹¨ì— ì •ì˜ë¨

        // ì—°ë½ì²˜ í•¨ìˆ˜
        function callParent(side, parent) {
            const phones = {
                groom: { father: '010-8530-3785', mother: '010-6667-4900' },
                bride: { father: '010-3772-3268', mother: '010-8782-3268' }
            };
            window.location.href = `tel:${phones[side][parent]}`;
        }
        
        function smsParent(side, parent) {
            const phones = {
                 groom: { father: '010-8530-3785', mother: '010-6667-4900' },
                bride: { father: '010-3772-3268', mother: '010-8782-3268' }
            };
            window.location.href = `sms:${phones[side][parent]}`;
        }

        // ì§€ë„ í•¨ìˆ˜
        function openNaverMap() {
            window.open('https://map.naver.com/v5/search/ì¼„ì‹±í„´í˜¸í…”%20ì—¬ì˜ë„', '_blank');
        }
        
        function openKakaoMap() {
            window.open('https://map.kakao.com/link/search/ì¼„ì‹±í„´í˜¸í…” ì—¬ì˜ë„', '_blank');
        }

        // ê³„ì¢Œ ì •ë³´ ë¡œë“œ
        function loadAccountInfo() {
            // CONFIG ê°ì²´ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©
            const accounts = typeof CONFIG !== 'undefined' ? CONFIG.accounts : {
                groom: [
                    { name: 'ì¡°ì˜ë¯¼', bank: 'ë†í˜‘', number: '302-1008-6711-31' },
                    { name: 'ì¡°êµ­ì œ (ì•„ë²„ì§€)', bank: 'ë†í˜‘', number: '848-02-052946' },
                    { name: 'ê¹€ëª…ì„  (ì–´ë¨¸ë‹ˆ)', bank: 'ë†í˜‘', number: '177784-56-065611' }
                ],
                bride: [
                    { name: 'ê¶Œì±„ë¦°', bank: 'ê¸°ì—…ì€í–‰', number: '010-4448-3268' },
                    { name: 'ê¶Œìˆœë¬¸ (ì•„ë²„ì§€)', bank: 'ì‹ í•œì€í–‰', number: '323-04-048686' },
                    { name: 'ì´ì€ìˆ™ (ì–´ë¨¸ë‹ˆ)', bank: 'í•˜ë‚˜ì€í–‰', number: '125-910052-94207' }
                ]
            };
            
            const groomAccounts = document.getElementById('groomAccounts');
            const brideAccounts = document.getElementById('brideAccounts');
            
            // ì‹ ë‘ì¸¡ ê³„ì¢Œ
            if (groomAccounts && accounts.groom) {
                groomAccounts.innerHTML = accounts.groom.map(account => `
                    <div class="account-item">
                        <div>${account.name}</div>
                        <div>${account.bank} ${account.number}</div>
                        <button onclick="copyAccount('${account.number.replace(/[^0-9]/g, '')}')" style="padding: 8px 16px; margin-top: 10px;">
                            ë³µì‚¬í•˜ê¸°
                        </button>
                    </div>
                `).join('');
            }
            
            // ì‹ ë¶€ì¸¡ ê³„ì¢Œ
            if (brideAccounts && accounts.bride) {
                brideAccounts.innerHTML = accounts.bride.map(account => `
                    <div class="account-item">
                        <div>${account.name}</div>
                        <div>${account.bank} ${account.number}</div>
                        <button onclick="copyAccount('${account.number.replace(/[^0-9]/g, '')}')" style="padding: 8px 16px; margin-top: 10px;">
                            ë³µì‚¬í•˜ê¸°
                        </button>
                    </div>
                `).join('');
            }
            
            // ë ˆíŠ¸ë¡œ í…Œë§ˆ ê³„ì¢Œ ì •ë³´ë„ ë¡œë“œ
            const groomAccountsRetro = document.querySelector('.retro-section #groomAccounts');
            const brideAccountsRetro = document.querySelector('.retro-section #brideAccounts');
            
            if (groomAccountsRetro && groomAccounts) {
                groomAccountsRetro.innerHTML = groomAccounts.innerHTML;
            }
            
            if (brideAccountsRetro && brideAccounts) {
                brideAccountsRetro.innerHTML = brideAccounts.innerHTML;
            }
        }

        // ë³µì‚¬ í•¨ìˆ˜
        function copyAccount(account) {
            navigator.clipboard.writeText(account).then(() => {
                const message = currentTheme === 'retro' ? 
                    'ACCOUNT COPIED!' : 
                    'ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.';
                alert(message);
            });
        }
        
        function copyURL() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                const message = currentTheme === 'retro' ? 
                    'LINK COPIED!' : 
                    'ì´ˆëŒ€ì¥ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.';
                alert(message);
            });
        }
        
        function shareKakao() {
            const message = currentTheme === 'retro' ? 
                'KAKAO SHARE - COMING SOON!' : 
                'ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ê¸°ëŠ¥ì„ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.';
            alert(message);
        }

        // ë°©ëª…ë¡ í˜ì´ì§€ë„¤ì´ì…˜ ë³€ìˆ˜
        let guestbookData = [];
        let currentGuestbookPage = 1;
        const itemsPerPage = 5; // í•œ í˜ì´ì§€ë‹¹ 5ê°œ í‘œì‹œ
        
        // ë°©ëª…ë¡ í‘œì‹œ í•¨ìˆ˜
        function displayGuestbook(entries) {
            guestbookData = entries || [];
            // í˜„ì¬ í…Œë§ˆì— ë”°ë¼ ì˜¬ë°”ë¥¸ ë°©ëª…ë¡ ë¦¬ìŠ¤íŠ¸ ì„ íƒ
            const suffix = currentTheme === 'retro' ? 'Retro' : 'Modern';
            const guestbookList = document.getElementById('guestbookList' + suffix);
            const pageIndicator = document.getElementById('pageIndicator' + suffix);
            const pageInfo = document.getElementById('pageInfo' + suffix);
            const prevBtn = document.getElementById('prevPageBtn' + suffix);
            const nextBtn = document.getElementById('nextPageBtn' + suffix);
            
            if (guestbookData.length === 0) {
                if (guestbookList) {
                    guestbookList.innerHTML = `
                        <div class="guestbook-item" style="text-align: center; padding: 40px 20px;">
                            No messages yet...<br>
                            Be the first player to leave a message!
                        </div>
                    `;
                }
                // ë¹ˆ ìƒíƒœì—ì„œë„ í˜ì´ì§€ ì»¨íŠ¸ë¡¤ í‘œì‹œ
                if (pageInfo) pageInfo.textContent = '0 / 0';
                if (prevBtn) {
                    prevBtn.disabled = true;
                    prevBtn.style.opacity = '0.3';
                }
                if (nextBtn) {
                    nextBtn.disabled = true;
                    nextBtn.style.opacity = '0.3';
                }
                if (pageIndicator) pageIndicator.textContent = 'PAGE 0';
                return;
            }
            
            // í˜ì´ì§€ ê³„ì‚°
            const totalPages = Math.ceil(guestbookData.length / itemsPerPage);
            const startIndex = (currentGuestbookPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageData = guestbookData.slice(startIndex, endIndex);
            
            // í˜„ì¬ í˜ì´ì§€ ë©”ì‹œì§€ í‘œì‹œ (ë¹ˆ ìŠ¬ë¡¯ ì—†ì´)
            if (guestbookList) {
                const isRetro = guestbookList.id === 'guestbookListRetro';
                guestbookList.innerHTML = pageData.map((entry, i) => `
                <div class="guestbook-item" style="
                    ${!isRetro ? `animation: fadeIn 0.5s ease-in-out ${i * 0.1}s both;` : ''}
                    padding: 15px;
                    border-bottom: 2px dashed rgba(255, 0, 110, 0.2);
                    margin-bottom: 10px;
                ">
                    <div class="guest-name" style="color: var(--pixel-yellow); margin-bottom: 10px;">
                        <span style="color: var(--pixel-pink);">â–¶</span> ${entry.name || 'Anonymous'}
                    </div>
                    <div class="guest-message" style="padding-left: 20px;">
                        ${entry.msg || entry.message || ''}
                    </div>
                </div>
            `).join('');
            }
            
            // í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
            if (pageInfo) pageInfo.textContent = `${currentGuestbookPage} / ${totalPages}`;
            if (pageIndicator) pageIndicator.textContent = `PAGE ${currentGuestbookPage}`;
            if (prevBtn) {
                prevBtn.disabled = currentGuestbookPage === 1;
                prevBtn.style.opacity = currentGuestbookPage === 1 ? '0.3' : '1';
            }
            if (nextBtn) {
                nextBtn.disabled = currentGuestbookPage === totalPages;
                nextBtn.style.opacity = currentGuestbookPage === totalPages ? '0.3' : '1';
            }
        }
        
        // í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜
        function previousGuestbookPage() {
            if (currentGuestbookPage > 1) {
                currentGuestbookPage--;
                displayGuestbook(guestbookData);
            }
        }
        
        function nextGuestbookPage() {
            const totalPages = Math.ceil(guestbookData.length / itemsPerPage);
            if (currentGuestbookPage < totalPages) {
                currentGuestbookPage++;
                displayGuestbook(guestbookData);
            }
        }
        
        // í¼ ì œì¶œ
        document.getElementById('guestbookForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('ì¶•í•˜ ë©”ì‹œì§€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤');
            closeGuestbookModal();
            this.reset();
            currentGuestbookPage = 1; // ìƒˆ ë©”ì‹œì§€ ì¶”ê°€ í›„ ì²« í˜ì´ì§€ë¡œ
        });
        
        document.getElementById('attendanceForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('ì°¸ì„ ì—¬ë¶€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤');
            closeAttendanceModal();
            this.reset();
        });
    </script>
    
    <!-- Firebase Integration (Inline for CORS bypass) -->
    <script type="module">
        // Firebase SDK import
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
        import {
          getFirestore, collection, addDoc, serverTimestamp,
          query, orderBy, onSnapshot, getDocs, limit
        } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';
        
        let db;
        
        // Firebase ì´ˆê¸°í™”
        function initFirebase() {
          const firebaseConfig = {
            apiKey: 'AIzaSyCfJ2xA0htQIlwvnFp5oTcKmEjXJLcj9Cs',
            authDomain: 'wedding-invitation-46ad9.firebaseapp.com',
            projectId: 'wedding-invitation-46ad9',
            appId: '1:281364628692:web:c169a60fca936dca38a741'
          };
          db = getFirestore(initializeApp(firebaseConfig));
        }
        
        // ë°©ëª…ë¡ ì¶”ê°€
        const addGuestbook = (name, msg) =>
          addDoc(collection(db, 'guestbook'), {
            name, msg,
            ts: serverTimestamp()
          });
        
        // RSVP ì¶”ê°€
        const addRsvp = data =>
          addDoc(collection(db, 'rsvp'), {
            ...data,
            ts: serverTimestamp()
          });
        
        // ë¯¸ë‹ˆê²Œì„ ì ìˆ˜ ì œì¶œ
        window.submitGameScore = async function(name, score) {
            console.log('Submitting score:', name, score);
            try {
                const docRef = await addDoc(collection(db, 'gameScores'), {
                    name: name,
                    score: score,
                    ts: serverTimestamp()
                });
                console.log('Score submitted successfully, doc ID:', docRef.id);
                return true;
            } catch (error) {
                console.error('Error submitting score:', error);
                alert('ì ìˆ˜ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message);
                throw error;
            }
        };
        
        // ë¯¸ë‹ˆê²Œì„ ë¦¬ë”ë³´ë“œ ê°€ì ¸ì˜¤ê¸°
        window.getGameLeaderboard = async function() {
            console.log('Fetching leaderboard...');
            try {
                const q = query(collection(db, 'gameScores'), orderBy('score', 'desc'), limit(10));
                const snapshot = await getDocs(q);
                
                const scores = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    scores.push(data);
                });
                
                console.log('Leaderboard fetched:', scores.length, 'scores');
                return scores;
            } catch (error) {
                console.error('Error fetching leaderboard:', error);
                return [];
            }
        };
        
        // ë°©ëª…ë¡ ì‹¤ì‹œê°„ ê°ì‹œ
        const listenGuestbook = (cb) => {
          const q = query(collection(db, 'guestbook'), orderBy('ts', 'desc'));
          return onSnapshot(q, snap => cb(snap.docs.map(d => d.data())));
        };
        
        // Firebase ì´ˆê¸°í™”
        try {
            initFirebase();
            console.log('Firebase initialized successfully');
            
            // ë°©ëª…ë¡ í¼ì— Firebase ì—°ë™
            const guestbookForm = document.getElementById('guestbookForm');
            if (guestbookForm) {
                // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
                const newForm = guestbookForm.cloneNode(true);
                guestbookForm.parentNode.replaceChild(newForm, guestbookForm);
                
                // Firebase ì—°ë™ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                newForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const name = document.getElementById('guestName').value;
                    const message = document.getElementById('guestMessage').value;
                    
                    try {
                        await addGuestbook(name, message);
                        alert('ì¶•í•˜ ë©”ì‹œì§€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤');
                        
                        // ëª¨ë‹¬ ë‹«ê¸° (ì „ì—­ í•¨ìˆ˜ ì‚¬ìš©)
                        document.getElementById('guestbookModal').style.display = 'none';
                        this.reset();
                    } catch (error) {
                        console.error('Guestbook error:', error);
                        alert('ë©”ì‹œì§€ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    }
                });
            }
            
            // ì°¸ì„ í¼ì— Firebase ì—°ë™
            const attendanceForm = document.getElementById('attendanceForm');
            if (attendanceForm) {
                // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
                const newForm = attendanceForm.cloneNode(true);
                attendanceForm.parentNode.replaceChild(newForm, attendanceForm);
                
                // Firebase ì—°ë™ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                newForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const formData = {
                        name: document.getElementById('attendeeName').value,
                        phone: document.getElementById('attendeePhone').value,
                        status: document.getElementById('attendanceStatus').value,
                        count: document.getElementById('guestCount').value,
                        relation: document.getElementById('relation').value
                    };
                    
                    try {
                        await addRsvp(formData);
                        alert('ì°¸ì„ ì—¬ë¶€ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤! ê°ì‚¬í•©ë‹ˆë‹¤');
                        
                        // ëª¨ë‹¬ ë‹«ê¸°
                        document.getElementById('attendanceModal').style.display = 'none';
                        this.reset();
                    } catch (error) {
                        console.error('RSVP error:', error);
                        alert('ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    }
                });
            }
            
            // Firestoreì—ì„œ ë°©ëª…ë¡ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
            if (typeof listenGuestbook === 'function') {
                console.log('listenGuestbook í•¨ìˆ˜ ì¡´ì¬, Firestoreì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì‹œë„...');
                listenGuestbook((entries) => {
                    console.log('Firestoreì—ì„œ ë°›ì€ ë°©ëª…ë¡ ë°ì´í„°:', entries);
                    if (entries && entries.length > 0) {
                        // Firestore ë°ì´í„°ë¥¼ DataManagerì— ì €ì¥
                        if (window.DataManager) {
                            window.DataManager.data.guestbook = entries.map(entry => ({
                                id: entry.id || (window.Utils ? window.Utils.generateId() : Math.random().toString(36).substr(2, 9)),
                                name: entry.name,
                                message: entry.msg || entry.message,
                                date: entry.date || new Date().toLocaleDateString('ko-KR'),
                                timestamp: entry.ts || entry.timestamp || new Date().toISOString()
                            }));
                            console.log('DataManagerì— ì €ì¥ëœ ë°©ëª…ë¡ ë°ì´í„°:', window.DataManager.data.guestbook);
                        }
                        // ë°©ëª…ë¡ í‘œì‹œ
                        displayGuestbook(entries);
                        
                        // GuestbookManagerë„ ì—…ë°ì´íŠ¸
                        if (window.GuestbookManager && window.GuestbookManager.updateList) {
                            setTimeout(() => {
                                window.GuestbookManager.updateList();
                            }, 100);
                        }
                    } else {
                        console.log('Firestoreì— ë°©ëª…ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                        displayGuestbook([]);
                    }
                });
            } else {
                console.log('listenGuestbook í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
            }
            
            // GuestbookManager ì´ˆê¸°í™” (ìˆìœ¼ë©´)
            if (window.GuestbookManager) {
                window.GuestbookManager.init();
            }
            
        } catch (error) {
            console.log('Firebase not configured or error:', error);
            console.log('Running in offline mode - forms will work without database');
        }
    </script>
    
    <!-- CSS ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ -->
    <style>
        /* Mobile Responsive Fixes */
        @media (max-width: 600px) {
            /* Prevent horizontal overflow */
            html, body {
                overflow-x: hidden !important;
                width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                max-width: 100vw !important;
            }
            
            /* Fix container widths */
            .container, section {
                max-width: 100vw !important;
                overflow-x: hidden !important;
                box-sizing: border-box !important;
            }
            
            /* Fix padding on sections */
            section {
                padding: 30px 15px !important;
            }
            
            /* Fix inline-block elements for parent info */
            .invitation-msg div[style*="display: inline-block"] {
                display: block !important;
                width: 100% !important;
                margin: 10px 0 !important;
            }
            
            /* Fix button layouts */
            button {
                max-width: 90% !important;
                font-size: 11px !important;
                padding: 12px 10px !important;
                margin: 5px auto !important;
                display: block !important;
            }
            
            /* Parent contact buttons - side by side */
            .parents-contact button {
                display: inline-block !important;
                width: 42% !important;
                margin: 5px 2% !important;
                font-size: 10px !important;
                padding: 10px 5px !important;
            }

            .parents-contact .parent-info span { /* ì‹¤ì œ ì •ë³´ìš© spanë§Œ */
              display:inline-block !important;
              width:100% !important;
              margin-bottom:5px !important;
              font-size:12px !important;
            }
        
            /* ì œëª©ì˜ í”½ì…€ ì•„ì´ì½˜ì€ ì¸ë¼ì¸ ìœ ì§€ */
            .parents-contact h3 .pixel-icon {
              display:inline-block !important;
              width:auto !important;
              vertical-align:middle !important;
            }
            
            .parents-contact > div > div > div {
                margin-bottom: 15px !important;
            }
            
            /* Game Masters buttons fix */
            .game-master-buttons button {
                display: inline-block !important;
                width: 44% !important;
                margin: 3px 2% !important;
                font-size: 9px !important;
                padding: 10px 3px !important;
            }
            
            .game-master-buttons span {
                font-size: 11px !important;
            }
            
            /* Fix text sizes */
            h1 { font-size: 20px !important; }
            h2 { font-size: 18px !important; }
            h3 { font-size: 16px !important; }
            
            /* Guestbook pagination */
            .guestbook-pagination {
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                flex-wrap: nowrap !important;
                padding: 10px 5px !important;
            }
            
            .guestbook-pagination button {
                display: inline-block !important;
                width: auto !important;
                min-width: 60px !important;
                max-width: 80px !important;
                margin: 0 5px !important;
                font-size: 10px !important;
                padding: 10px 8px !important;
                flex-shrink: 0 !important;
            }
            
            .guestbook-pagination span {
                display: inline-block !important;
                margin: 0 5px !important;
                font-size: 11px !important;
                white-space: nowrap !important;
                flex-shrink: 0 !important;
            }
            
            /* Calendar grid */
            .calendar-grid {
                max-width: 100% !important;
                grid-template-columns: repeat(7, 1fr) !important;
                gap: 2px !important;
                padding: 10px 5px !important;
            }
            
            .calendar-day {
                font-size: 10px !important;
                padding: 5px 2px !important;
            }
            
            /* Photo slider controls */
            .slider-controls {
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
                gap: 10px !important;
            }
            
            .slider-controls button {
                display: inline-block !important;
                width: auto !important;
                min-width: 60px !important;
                max-width: 100px !important;
                margin: 0 !important;
                padding: 10px 8px !important;
            }
            
            .slider-controls span {
                font-size: 11px !important;
                white-space: nowrap !important;
            }
            
            /* Modal fixes */
            .modal-content {
                width: 92% !important;
                max-width: 92% !important;
                padding: 20px 15px !important;
                margin: 10px !important;
                box-sizing: border-box !important;
            }
            
            /* Account items */
            .account-item {
                padding: 15px 10px !important;
                margin-bottom: 10px !important;
            }
            
            .account-item button {
                width: auto !important;
                max-width: 100% !important;
                padding: 10px 20px !important;
                display: inline-block !important;
                margin: 10px auto !important;
            }
            
            /* Direction buttons */
            .directions button {
                display: inline-block !important;
                width: 45% !important;
                margin: 5px 2% !important;
            }
            
            /* Special border sections */
            .special-border {
                margin: 10px !important;
                padding: 20px 10px !important;
            }
            
            /* Title section */
            .title-section {
                padding: 40px 15px !important;
            }
            
            .wedding-title {
                font-size: 22px !important;
                line-height: 1.4 !important;
            }
            
            /* Main photo */
            .main-photo {
                margin: 20px 10px !important;
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ë¹„í™œì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .slider-btn:disabled {
            cursor: not-allowed;
            pointer-events: none;
        }
    </style>
</body>
</html>